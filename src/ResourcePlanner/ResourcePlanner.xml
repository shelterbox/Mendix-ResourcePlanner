<?xml version="1.0" encoding="utf-8" ?>
<widget id="ResourcePlanner.widget.ResourcePlanner" needsEntityContext="true" xmlns="http://www.mendix.com/widget/1.0/">
    <name>ResourcePlanner</name>
    <description>Render an agenda style calendar widget</description>

    <icon />
    <properties>
        <!-- Search -->
        <property key="search_dateFrom" type="attribute" required="true">
            <caption>Search from date</caption>
            <category>Search</category>
            <description>Attribute: Search filter from date (Entity context)</description>
            <attributeTypes>
                <attributeType name="DateTime" />
            </attributeTypes>
        </property>
        <property key="search_dateTo" type="attribute" required="true">
            <caption>Search to date</caption>
            <category>Search</category>
            <description>Attribute: Search filter to date (Entity context)</description>
            <attributeTypes>
                <attributeType name="DateTime" />
            </attributeTypes>
        </property>
        <property key="search_dynXpath" type="attribute" isPath="optional" pathType="reference" required="false">
            <caption>Search XPath dynamic</caption>
            <category>Search</category>
            <description>Attribute: Constraint on the 'Event' entity (Dynamic)</description>
            <attributeTypes>
                <attributeType name="String" />
            </attributeTypes>
        </property>
        <property key="search_statXpath" type="entityConstraint" entityProperty="event" required="false">
            <caption>Search XPath static</caption>
            <category>Search</category>
            <description>XPath: Constraint on the 'Event' entity (Static)</description>
        </property>

        <!-- Event -->
        <property key="event" type="entity" isPath="no" allowNonPersistableEntities="false" required="true">
            <caption>Event entity</caption>
            <category>Event</category>
            <description>Entity: Event</description>
        </property>
        <property key="event_startDate" type="attribute" entityProperty="event" required="true">
            <caption>Event start date</caption>
            <category>Event</category>
            <description>Attribute: Start of event</description>
            <attributeTypes>
                <attributeType name="DateTime" />
            </attributeTypes>
        </property>
        <property key="event_endDate" type="attribute" entityProperty="event" required="true">
            <caption>Event end date</caption>
            <category>Event</category>
            <description>Attribute: End of event</description>
            <attributeTypes>
                <attributeType name="DateTime" />
            </attributeTypes>
        </property>
        <property key="event_type" type="attribute" isPath="optional" pathType="reference" entityProperty="event" required="false">
            <caption>Event type</caption>
            <category>Event</category>
            <description>Attribute: Type label</description>
            <attributeTypes>
                <attributeType name="String" />
                <attributeType name="Enum" />
            </attributeTypes>
        </property>
        <property key="event_colour" type="attribute" isPath="optional" pathType="reference" entityProperty="event" required="false">
            <caption>Event bar colour</caption>
            <category>Event</category>
            <description>Attribute: CSS colour (eg: '#DB3E3E', 'rgb(219, 62, 62)')</description>
            <attributeTypes>
                <attributeType name="String" />
                <attributeType name="Enum" />
            </attributeTypes>
        </property>

        <!-- Resource -->
        <property key="resource_name" type="attribute" isPath="optional" pathType="reference" entityProperty="event" required="true">
            <caption>Resource name</caption>
            <category>Resource</category>
            <description>Attribute: Resource row identifier</description>
            <attributeTypes>
                <attributeType name="String" />
            </attributeTypes>
        </property>
        <property key="resource_form" type="form" required="false">
            <caption>Resource page</caption>
            <category>Resource</category>
            <description>Page: Hyperlinked page for resource name (Page context needs to match 'Resource name' attribute entity)</description>
        </property>
        <property key="resource_form_location" type="enumeration" defaultValue="content">
            <caption>Resource page display type</caption>
            <category>Resource</category>
            <description>Enumeration: How the resource page will be displayed</description>
            <enumerationValues>
                <enumerationValue key="content">content</enumerationValue>
                <enumerationValue key="popup">popup</enumerationValue>
                <enumerationValue key="modal">modal</enumerationValue>
            </enumerationValues>
        </property>
        <property key="resource_description" type="attribute" isPath="optional" pathType="reference" entityProperty="event" required="false">
            <caption>Resource description</caption>
            <category>Resource</category>
            <description>Attribute: Resource row description</description>
            <attributeTypes>
                <attributeType name="String" />
            </attributeTypes>
        </property>
        <property key="resource_sortBy" type="attribute" isPath="optional" pathType="reference" entityProperty="event" required="false">
            <caption>Sort by</caption>
            <category>Resource</category>
            <description>Attribute: Sort resource rows by</description>
            <attributeTypes>
                <attributeType name="String" />
                <attributeType name="Enum" />
                <attributeType name="DateTime" />
                <attributeType name="Integer" />
            </attributeTypes>
        </property>

        <!-- Planner -->
        <property key="resource_category" type="attribute" isPath="optional" pathType="reference" entityProperty="event" required="false">
            <caption>Planner title dynamic</caption>
            <category>Planner</category>
            <description>Attribute: Seperate planners by title (Leave blank for 'Planner title static')</description>
            <attributeTypes>
                <attributeType name="String" />
                <attributeType name="Enum" />
            </attributeTypes>
        </property>
        <property key="resource_category_description" type="attribute" isPath="optional" pathType="reference" entityProperty="event" required="false">
            <caption>Planner description</caption>
            <category>Planner</category>
            <description>Attribute: Sits underneath the planner title</description>
            <attributeTypes>
                <attributeType name="String" />
                <attributeType name="Enum" />
            </attributeTypes>
        </property>
        <property key="resource_title" type="string" required="false">
            <caption>Planner title static</caption>
            <category>Planner</category>
            <description>String: Hardcoded planner title</description>
        </property>
    </properties>
</widget>
